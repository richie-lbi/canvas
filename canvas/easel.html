<html>
<head>
</head>
<body>
<h1>EaselJs</h1>

<p>Container - Nestable display list</p>

<p>http://www.createjs.com/Docs/EaselJS/classes/Shape.html</p>

<canvas id="easel-canvas" width="800" height="300" />

	<script type="text/javascript" src="scripts/jquery-1.10.1.min.js"></script>
	<script type="text/javascript" src="http://code.createjs.com/createjs-2013.05.14.min.js"></script>
	<script>

		var speed = 5;
		
	
		$(document).ready(function(){

			var stage = new createjs.Stage("easel-canvas");
			var con = new createjs.Container();
			con.x = 100;
			
			var shape1 = new createjs.Shape();
			shape1.graphics.beginFill("#ffffff").drawRect(-20, -20, 40, 40);
			shape1.x = 100;
			shape1.y = 100;
			
			
			var shape2 = new createjs.Shape();
			shape2.graphics.beginFill("#e8e8e8").drawRect(-30, -30, 60, 60);
			shape2.x = 100;
			shape2.y = 100;
			
			con.addChild(shape2, shape1);

			stage.addChild(con);
			
			createjs.Ticker.addEventListener("tick", animate);

			var controlPoint = new createjs.Graphics();
			    controlPoint.setStrokeStyle(1);
			    controlPoint.beginStroke('black');
			    controlPoint.beginFill('#666');
			    controlPoint.drawCircle(0,0,8);

			var cp1 = new createjs.Shape(controlPoint);
			        cp1.x = 50;
			        cp1.y = 260;

			var cp2 = new createjs.Shape(controlPoint);
			        cp2.x = 240;
			        cp2.y = 260;

			var freeform = new createjs.Graphics();
				freeform.moveTo(0,0);
				freeform.s('#666');
				freeform.f('wheat');
				freeform.bt(cp1.x, cp1.y, cp2.x, cp2.y, 400, 0);
				freeform.lt(0,0);

			var bez = new createjs.Shape(freeform);
			        bez.x = 50;
			        bez.y = 50;

			stage.addChild(cp1, cp2, bez);
			
			function animate(){
				shape1.rotation -= 1;
				shape2.rotation += 2;
				if(con.x > 650 || con.x < 100){
					speed = -speed;
				}
				con.x += speed;
				stage.update();
			}

		});

	</script>
</body>
</html>