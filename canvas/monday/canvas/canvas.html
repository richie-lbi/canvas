<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/style.css"></link>
</head>
<body>

<h1>Canvas</h1>

<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <pattern id="mycircleandsquare" patternUnits="userSpaceOnUse"
        x="0" y="0" width="150" height="100">
      <circle cx="50" cy="50" r="10" fill="yellow" stroke="blue"
        />
      <rect x="100" y="0" width="50" height="50" fill="blue"   
        stroke="yellow" />
    </pattern>
  </defs>
  <ellipse fill="url(#mycircleandsquare)" stroke="black"
     stroke-width="5" cx="300" cy="200" rx="250" ry="250" />
 </svg>

<canvas id="richie" width="300" height="200">My 'no canvas' fall back</canvas>

<div class="code-snippet">
	<ol>
		<li><a href="http://www.carto.net/svg/samples/animated_bustrack.shtml" target="_blank">Nice SVG usage</a></li>
		<li>Take advantage of the Client not server - Load the raw data from the server but generate graphics on the Client</li>
		<li>Beware of the loaded image - <a href="https://developer.mozilla.org/en-US/docs/HTML/CORS_Enabled_Image">CORS tainted canvas</a></li>
	</ol>

</div>
	<script type="text/javascript" src="scripts/jquery-1.10.1.min.js"></script>
	<script type="text/javascript" src="scripts/kinetic-v4.5.3.min.js"></script>
	<script type="text/javascript" src="http://code.createjs.com/createjs-2013.05.14.min.js"></script>
	<script>
	
		var circle = {

			me: null,
			size: (Math.random(6) * 6) + 4,
			limit: this.size / 5,
		
			init: function(){
				me = new createjs.Shape(),				
				me.graphics.beginFill("gold").drawCircle(0, 0, circle.size);				
				me.x = Math.random(800) * 800;
				me.y = Math.random(300) * 300;
				me.speedX = Math.random(10) * 10;	
				me.speedY = Math.random(10) * 10;	
				me.size = circle.size;			
				return me;
			}

		}

		var demo = {
		
			canvas: new createjs.Stage("richie"),
			ballCount: 1,
			init: function(){
				demo.events();
				for(var i = 0;i< demo.ballCount;i++){
					demo.create();
				}
				demo.animate();
			},
			
			create: function(){
				var shape = new circle.init();
				demo.canvas.addChild(shape);
			},
			
			animate: function(){
				createjs.Ticker.addEventListener("tick", demo.tick);
			},
		
			tick: function() { 
				for(var i = 0;i< demo.canvas.children.length;i++){
					var circ = demo.canvas.children[i];

					if(circ.x > (800 - circ.size) || circ.x < (0 + circ.size)){
						circ.speedX = -circ.speedX;
					}
					
					if(circ.y > (300 - circ.size) || circ.y < (0 + circ.size)){
						circ.speedY = -circ.speedY;
					}
					
					circ.x += circ.speedX;
					circ.y += circ.speedY;
					
				}
				demo.canvas.update();
			 },
		
			events: function(){
				$('#more-dots').bind('click',function(){
					demo.create();
				});
			}
			
		}
		
		$(document).ready(function(){

			// demo.init();

		});

	</script>
</body>
</html>